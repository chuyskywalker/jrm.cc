{"changed":true,"filter":false,"title":"home-cluster-docker-realips.md","tooltip":"/content/blog/home-cluster-docker-realips.md","value":"---\ntitle: \"Home Cluster -- Motivations\"\ndate: 2016-06-05\n---\n\nSometime last year, I moved all my website hosting into my house. Got a decent line, added a CDN in front of things, and stopped paying AWS > $150/month.\n\nHowever, back then I had moved it to what was, previously, my media server machine. It was acceptable for that -- i3 core, 8gb of ram, and some spinning disks. It did...alright with VMWare on top of it, but clearly was struggling at times.\n\nA few months back I decided to have a go at creating my own little cluster. I'd previously hosted most of my sites at home on a single server. Little thing, i3 core with 8gb of ram. Worked ok, but was a constant failure risk. Inherieted a REALLY nice datacenter rackmount beast, but since it costs $50+/month in power, I can't really use that -- plus it sounds like a jet engine 24/7. So I started putting together a plan for a small cluster of cheap machines, low power, low noise, capable enough to run my websites, *and* I wanted some redundancy.\n\n## First Forray\n\nWhen you think, \"small efficient computer\" you should probably jump right to Raspberry Pi. What that team has accomplished is nothing short of amazing. I bought two different models of these to try them out, but ultimately didn't settle on them as a platform. While there is a lot of maturity in the RPI platform, and the power/noise factors are amazing, having to constantly deal with software availability and ARM compilation just wasn't something I wanted to jump through hoops for.\n\n## On Towards X86\n\nKnowing that I wanted to stay pretty main stream, I came back to the X86 (Intel and AMD) camp. Turns out AMD has this amazingly cheap, low power, and mid-performance chip call the `AM1`. It's a 4 core, 2ghz chip and it's fantastic for the price. So I bought up 3 of these, some tiny motherboards, 7\" square cases, and scrounged a few hard drives together and built these three systems:\n\n[ image here later ]\n\nNow'd I've got three identical machines. I'm ready to start getting my cluster up and running.\n","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":7,"column":156},"end":{"row":7,"column":157},"action":"insert","lines":["k"],"id":2231}],[{"start":{"row":7,"column":157},"end":{"row":7,"column":158},"action":"insert","lines":["s"],"id":2232}],[{"start":{"row":7,"column":158},"end":{"row":7,"column":159},"action":"insert","lines":["."],"id":2233}],[{"start":{"row":7,"column":159},"end":{"row":7,"column":160},"action":"insert","lines":[" "],"id":2234}],[{"start":{"row":7,"column":160},"end":{"row":7,"column":161},"action":"insert","lines":["I"],"id":2235}],[{"start":{"row":7,"column":161},"end":{"row":7,"column":162},"action":"insert","lines":["t"],"id":2236}],[{"start":{"row":7,"column":162},"end":{"row":7,"column":163},"action":"insert","lines":[" "],"id":2237}],[{"start":{"row":7,"column":163},"end":{"row":7,"column":164},"action":"insert","lines":["d"],"id":2238}],[{"start":{"row":7,"column":164},"end":{"row":7,"column":165},"action":"insert","lines":["i"],"id":2239}],[{"start":{"row":7,"column":165},"end":{"row":7,"column":166},"action":"insert","lines":["d"],"id":2240}],[{"start":{"row":7,"column":166},"end":{"row":7,"column":167},"action":"insert","lines":["."],"id":2241}],[{"start":{"row":7,"column":167},"end":{"row":7,"column":168},"action":"insert","lines":["."],"id":2242}],[{"start":{"row":7,"column":168},"end":{"row":7,"column":169},"action":"insert","lines":["."],"id":2243}],[{"start":{"row":7,"column":169},"end":{"row":7,"column":170},"action":"insert","lines":["a"],"id":2244}],[{"start":{"row":7,"column":170},"end":{"row":7,"column":171},"action":"insert","lines":["l"],"id":2245}],[{"start":{"row":7,"column":171},"end":{"row":7,"column":172},"action":"insert","lines":["g"],"id":2246}],[{"start":{"row":7,"column":172},"end":{"row":7,"column":173},"action":"insert","lines":["i"],"id":2247}],[{"start":{"row":7,"column":173},"end":{"row":7,"column":174},"action":"insert","lines":["t"],"id":2248}],[{"start":{"row":7,"column":174},"end":{"row":7,"column":175},"action":"insert","lines":["h"],"id":2249}],[{"start":{"row":7,"column":174},"end":{"row":7,"column":175},"action":"remove","lines":["h"],"id":2250}],[{"start":{"row":7,"column":173},"end":{"row":7,"column":174},"action":"remove","lines":["t"],"id":2251}],[{"start":{"row":7,"column":172},"end":{"row":7,"column":173},"action":"remove","lines":["i"],"id":2252}],[{"start":{"row":7,"column":171},"end":{"row":7,"column":172},"action":"remove","lines":["g"],"id":2253}],[{"start":{"row":7,"column":171},"end":{"row":7,"column":172},"action":"insert","lines":["r"],"id":2254}],[{"start":{"row":7,"column":172},"end":{"row":7,"column":173},"action":"insert","lines":["i"],"id":2255}],[{"start":{"row":7,"column":173},"end":{"row":7,"column":174},"action":"insert","lines":["g"],"id":2256}],[{"start":{"row":7,"column":174},"end":{"row":7,"column":175},"action":"insert","lines":["h"],"id":2257}],[{"start":{"row":7,"column":175},"end":{"row":7,"column":176},"action":"insert","lines":["t"],"id":2258}],[{"start":{"row":7,"column":176},"end":{"row":7,"column":177},"action":"insert","lines":[","],"id":2259}],[{"start":{"row":7,"column":177},"end":{"row":7,"column":178},"action":"insert","lines":[" "],"id":2260}],[{"start":{"row":7,"column":178},"end":{"row":7,"column":179},"action":"insert","lines":["w"],"id":2261}],[{"start":{"row":7,"column":179},"end":{"row":7,"column":180},"action":"insert","lines":["i"],"id":2262}],[{"start":{"row":7,"column":180},"end":{"row":7,"column":181},"action":"insert","lines":["h"],"id":2263}],[{"start":{"row":7,"column":180},"end":{"row":7,"column":181},"action":"remove","lines":["h"],"id":2264}],[{"start":{"row":7,"column":179},"end":{"row":7,"column":180},"action":"remove","lines":["i"],"id":2265}],[{"start":{"row":7,"column":178},"end":{"row":7,"column":179},"action":"remove","lines":["w"],"id":2266}],[{"start":{"row":7,"column":177},"end":{"row":7,"column":178},"action":"remove","lines":[" "],"id":2267}],[{"start":{"row":7,"column":176},"end":{"row":7,"column":177},"action":"remove","lines":[","],"id":2268}],[{"start":{"row":7,"column":176},"end":{"row":7,"column":177},"action":"insert","lines":[" "],"id":2269}],[{"start":{"row":7,"column":177},"end":{"row":7,"column":178},"action":"insert","lines":["w"],"id":2270}],[{"start":{"row":7,"column":178},"end":{"row":7,"column":179},"action":"insert","lines":["i"],"id":2271}],[{"start":{"row":7,"column":179},"end":{"row":7,"column":180},"action":"insert","lines":["t"],"id":2272}],[{"start":{"row":7,"column":180},"end":{"row":7,"column":181},"action":"insert","lines":["h"],"id":2273}],[{"start":{"row":7,"column":181},"end":{"row":7,"column":182},"action":"insert","lines":[" "],"id":2274}],[{"start":{"row":7,"column":182},"end":{"row":7,"column":183},"action":"insert","lines":["V"],"id":2275}],[{"start":{"row":7,"column":183},"end":{"row":7,"column":184},"action":"insert","lines":["M"],"id":2276}],[{"start":{"row":7,"column":184},"end":{"row":7,"column":185},"action":"insert","lines":["W"],"id":2277}],[{"start":{"row":7,"column":185},"end":{"row":7,"column":186},"action":"insert","lines":["a"],"id":2278}],[{"start":{"row":7,"column":186},"end":{"row":7,"column":187},"action":"insert","lines":["r"],"id":2279}],[{"start":{"row":7,"column":187},"end":{"row":7,"column":188},"action":"insert","lines":["e"],"id":2280}],[{"start":{"row":7,"column":188},"end":{"row":7,"column":189},"action":"insert","lines":[" "],"id":2281}],[{"start":{"row":7,"column":189},"end":{"row":7,"column":190},"action":"insert","lines":["o"],"id":2282}],[{"start":{"row":7,"column":190},"end":{"row":7,"column":191},"action":"insert","lines":["n"],"id":2283}],[{"start":{"row":7,"column":191},"end":{"row":7,"column":192},"action":"insert","lines":[" "],"id":2284}],[{"start":{"row":7,"column":192},"end":{"row":7,"column":193},"action":"insert","lines":["t"],"id":2285}],[{"start":{"row":7,"column":193},"end":{"row":7,"column":194},"action":"insert","lines":["o"],"id":2286}],[{"start":{"row":7,"column":194},"end":{"row":7,"column":195},"action":"insert","lines":["p"],"id":2287}],[{"start":{"row":7,"column":195},"end":{"row":7,"column":196},"action":"insert","lines":[" "],"id":2288}],[{"start":{"row":7,"column":196},"end":{"row":7,"column":197},"action":"insert","lines":["o"],"id":2289}],[{"start":{"row":7,"column":197},"end":{"row":7,"column":198},"action":"insert","lines":["f"],"id":2290}],[{"start":{"row":7,"column":198},"end":{"row":7,"column":199},"action":"insert","lines":[" "],"id":2291}],[{"start":{"row":7,"column":199},"end":{"row":7,"column":200},"action":"insert","lines":["i"],"id":2292}],[{"start":{"row":7,"column":200},"end":{"row":7,"column":201},"action":"insert","lines":["t"],"id":2293}],[{"start":{"row":7,"column":201},"end":{"row":7,"column":202},"action":"insert","lines":[","],"id":2294}],[{"start":{"row":7,"column":202},"end":{"row":7,"column":203},"action":"insert","lines":[" "],"id":2295}],[{"start":{"row":7,"column":203},"end":{"row":7,"column":204},"action":"insert","lines":["b"],"id":2296}],[{"start":{"row":7,"column":204},"end":{"row":7,"column":205},"action":"insert","lines":["u"],"id":2297}],[{"start":{"row":7,"column":205},"end":{"row":7,"column":206},"action":"insert","lines":["t"],"id":2298}],[{"start":{"row":7,"column":206},"end":{"row":7,"column":207},"action":"insert","lines":[" "],"id":2299}],[{"start":{"row":7,"column":207},"end":{"row":7,"column":208},"action":"insert","lines":["c"],"id":2300}],[{"start":{"row":7,"column":208},"end":{"row":7,"column":209},"action":"insert","lines":["l"],"id":2301}],[{"start":{"row":7,"column":209},"end":{"row":7,"column":210},"action":"insert","lines":["e"],"id":2302}],[{"start":{"row":7,"column":210},"end":{"row":7,"column":211},"action":"insert","lines":["a"],"id":2303}],[{"start":{"row":7,"column":211},"end":{"row":7,"column":212},"action":"insert","lines":["r"],"id":2304}],[{"start":{"row":7,"column":212},"end":{"row":7,"column":213},"action":"insert","lines":["l"],"id":2305}],[{"start":{"row":7,"column":213},"end":{"row":7,"column":214},"action":"insert","lines":["y"],"id":2306}],[{"start":{"row":7,"column":214},"end":{"row":7,"column":215},"action":"insert","lines":[" "],"id":2307}],[{"start":{"row":7,"column":215},"end":{"row":7,"column":216},"action":"insert","lines":["w"],"id":2308}],[{"start":{"row":7,"column":216},"end":{"row":7,"column":217},"action":"insert","lines":["a"],"id":2309}],[{"start":{"row":7,"column":217},"end":{"row":7,"column":218},"action":"insert","lines":["s"],"id":2310}],[{"start":{"row":7,"column":218},"end":{"row":7,"column":219},"action":"insert","lines":[" "],"id":2311}],[{"start":{"row":7,"column":219},"end":{"row":7,"column":220},"action":"insert","lines":["s"],"id":2312}],[{"start":{"row":7,"column":220},"end":{"row":7,"column":221},"action":"insert","lines":["t"],"id":2313}],[{"start":{"row":7,"column":221},"end":{"row":7,"column":222},"action":"insert","lines":["r"],"id":2314}],[{"start":{"row":7,"column":222},"end":{"row":7,"column":223},"action":"insert","lines":["u"],"id":2315}],[{"start":{"row":7,"column":223},"end":{"row":7,"column":224},"action":"insert","lines":["g"],"id":2316}],[{"start":{"row":7,"column":224},"end":{"row":7,"column":225},"action":"insert","lines":["g"],"id":2317}],[{"start":{"row":7,"column":225},"end":{"row":7,"column":226},"action":"insert","lines":["l"],"id":2318}],[{"start":{"row":7,"column":226},"end":{"row":7,"column":227},"action":"insert","lines":["i"],"id":2319}],[{"start":{"row":7,"column":227},"end":{"row":7,"column":228},"action":"insert","lines":["n"],"id":2320}],[{"start":{"row":7,"column":228},"end":{"row":7,"column":229},"action":"insert","lines":["g"],"id":2321}],[{"start":{"row":7,"column":229},"end":{"row":7,"column":230},"action":"insert","lines":[" "],"id":2322}],[{"start":{"row":7,"column":230},"end":{"row":7,"column":231},"action":"insert","lines":["a"],"id":2323}],[{"start":{"row":7,"column":231},"end":{"row":7,"column":232},"action":"insert","lines":["t"],"id":2324}],[{"start":{"row":7,"column":232},"end":{"row":7,"column":233},"action":"insert","lines":[" "],"id":2325}],[{"start":{"row":7,"column":233},"end":{"row":7,"column":234},"action":"insert","lines":["t"],"id":2326}],[{"start":{"row":7,"column":234},"end":{"row":7,"column":235},"action":"insert","lines":["i"],"id":2327}],[{"start":{"row":7,"column":235},"end":{"row":7,"column":236},"action":"insert","lines":["m"],"id":2328}],[{"start":{"row":7,"column":236},"end":{"row":7,"column":237},"action":"insert","lines":["e"],"id":2329}],[{"start":{"row":7,"column":237},"end":{"row":7,"column":238},"action":"insert","lines":["s"],"id":2330}],[{"start":{"row":7,"column":238},"end":{"row":7,"column":239},"action":"insert","lines":["."],"id":2331}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":22,"column":0},"end":{"row":22,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":0},"timestamp":1465023592755}